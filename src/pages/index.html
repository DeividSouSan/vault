<!DOCTYPE html>
<html lang="en" class="h-full">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>[Document]</title>

	<!-- Showdown -->
	<script src="https://unpkg.com/showdown/dist/showdown.min.js"></script>
	<!doctype html>

	<!-- Tailwind CSS -->
	<script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="h-full flex flex-col">
	<header class="text-center p-5">
		<h1 class="text-5xl">Welcome to Vault!</h1>
		<h2>Editing: [Filename]</h2>
	</header>
	<hr>
	<section id="md-manager" class="flex flex-row flex-grow justify-center">
		<section class="p-10 w-full">
			<h2 class="bg-gray-100 text-center">Markdown Editor</h2>
			<textarea name="" id="md-editor"
				class="w-full p-4 h-4/5 border border shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none text-gray-700 placeholder-gray-400 antialiased tracking-wider leading-8">[Markdown]</textarea>
		</section>
		<section class="p-10 w-full">
			<h2 class="bg-gray-100 text-center">HTML Preview</h2>
			<div id="md-viewer" class="p-4 border shadow-lg h-4/5">
				<h1>Markdown Example</h1>
				<p>Write texts here...</p>
			</div>
		</section>
	</section>
	<footer class="border w-full bg-gray-100 h-8 text-center">
		Informações sobre o documento
	</footer>
	<script>
		const editor = document.getElementById("md-editor");
		const viewer = document.getElementById("md-viewer");

		var converter = new showdown.Converter();

		editor.addEventListener("change", async () => {
			viewer.innerHTML = converter.makeHtml(editor.value);

			const response = await fetch("http://localhost:8080/save", {
				method: "POST",
				body: editor.value
			})
		})



	</script>
</body>

</html>